<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单词默写 - 英文文章阅读器</title>
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="dictation.css">
    <script src="navbar-control.js"></script>
</head>
<body>
    <div class="container">
        <!-- 顶部导航栏 -->
        <nav class="top-navbar">
            <div class="navbar-inner">
                <div class="navbar-brand">
                    <span class="brand-text"><span class="brand-dl">DL</span><span class="brand-page">Page</span></span>
                </div>
                <div class="navbar-menu">
                    <a href="index.html" class="nav-item">
                        <span class="nav-icon">📖</span>
                        <span class="nav-text">阅读文章</span>
                    </a>
                    <a href="articles_manager.html" class="nav-item">
                        <span class="nav-icon">📚</span>
                        <span class="nav-text">文章列表</span>
                    </a>
                    <a href="grammar.html" class="nav-item">
                        <span class="nav-icon">📝</span>
                        <span class="nav-text">英语语法</span>
                    </a>
                    <a href="grammar_articles.html" class="nav-item">
                        <span class="nav-icon">📖</span>
                        <span class="nav-text">语法文章</span>
                    </a>
                    <a href="words_graph.html" class="nav-item">
                        <span class="nav-icon">🔗</span>
                        <span class="nav-text">单词关系</span>
                    </a>
                    <a href="dictation.html" class="nav-item active">
                        <span class="nav-icon">✍️</span>
                        <span class="nav-text">单词默写</span>
                    </a>
                    <a href="profile.html" class="nav-item">
                        <span class="nav-icon">👤</span>
                        <span class="nav-text">个人中心</span>
                    </a>
                    <a href="settings.html" class="nav-item">
                        <span class="nav-icon">⚙️</span>
                        <span class="nav-text">系统设置</span>
                    </a>
                </div>
            </div>
        </nav>

        <div class="main-content">
            <!-- 左侧主要区域 -->
            <div class="left-section">
                <!-- 练习卡片 -->
                <div class="dictation-card">
                <!-- 进度条 -->
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                    <span class="progress-text" id="progressText">0 / 0</span>
                </div>

                <!-- 题目类型标签 -->
                <div class="type-badge" id="typeBadge">单词</div>

                <!-- 题目内容 -->
                <div class="question-container">
                    <div class="question-icon">💭</div>
                    <h2 class="chinese-text" id="chineseText">请点击"开始练习"</h2>
                    
                    <!-- 辅助工具 -->
                    <div class="question-tools" id="questionTools" style="display: none;">
                        <button class="tool-btn" id="hintBtn" title="显示音标">
                            <span class="tool-icon">💡</span>
                            <span class="tool-text">提示</span>
                        </button>
                        <button class="tool-btn" id="speakBtn" title="朗读英文">
                            <span class="tool-icon">🔊</span>
                            <span class="tool-text">朗读</span>
                        </button>
                    </div>
                    
                    <!-- 音标显示 -->
                    <div class="phonetic-display" id="phoneticDisplay" style="display: none;">
                        <span class="phonetic-label">音标：</span>
                        <span class="phonetic-text" id="phoneticText"></span>
                    </div>
                </div>

                <!-- 输入区域 -->
                <div class="input-container">
                    <div class="word-inputs" id="wordInputs">
                        <!-- 动态生成多个下划线输入框 -->
                    </div>
                </div>
                
                <!-- 提交按钮 -->
                <div class="submit-container">
                    <button id="clearBtn" class="btn btn-clear" style="display: none;">
                        <span class="btn-icon">🔄</span>
                        <span class="btn-text">清空重答</span>
                    </button>
                    <button id="submitBtn" class="btn btn-submit" disabled>
                        <span class="btn-icon">✓</span>
                        <span class="btn-text">提交答案</span>
                    </button>
                </div>

                <!-- 反馈信息 -->
                <div class="feedback" id="feedback" style="display: none;">
                    <div class="feedback-icon" id="feedbackIcon"></div>
                    <div class="feedback-content">
                        <p class="feedback-message" id="feedbackMessage"></p>
                        <p class="correct-answer" id="correctAnswer"></p>
                    </div>
                </div>

                <!-- 统计信息 -->
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-label">正确</span>
                        <span class="stat-value correct" id="correctCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">错误</span>
                        <span class="stat-value wrong" id="wrongCount">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">准确率</span>
                        <span class="stat-value" id="accuracy">0%</span>
                    </div>
                </div>

                <!-- 控制按钮 -->
                <div class="controls">
                    <button id="startBtn" class="btn btn-primary">
                        <span class="btn-icon">🚀</span>
                        <span class="btn-text">开始练习</span>
                    </button>
                    <button id="nextBtn" class="btn btn-secondary" style="display: none;">
                        <span class="btn-icon">→</span>
                        <span class="btn-text">下一题</span>
                    </button>
                    <button id="skipBtn" class="btn btn-skip" style="display: none;">
                        <span class="btn-icon">⤭</span>
                        <span class="btn-text">跳过</span>
                    </button>
                </div>
            </div>

            <!-- 完成提示 -->
            <div class="completion-modal" id="completionModal" style="display: none;">
                <div class="completion-content">
                    <div class="completion-icon">🎉</div>
                    <h2>练习完成！</h2>
                    <div class="completion-stats">
                        <p>总题数：<strong id="totalQuestions">0</strong></p>
                        <p>正确数：<strong id="finalCorrect">0</strong></p>
                        <p>错误数：<strong id="finalWrong">0</strong></p>
                        <p>准确率：<strong id="finalAccuracy">0%</strong></p>
                    </div>
                    <div class="completion-buttons">
                        <button id="restartBtn" class="btn btn-primary">
                            <span class="btn-icon">🔄</span>
                            <span class="btn-text">重新开始</span>
                        </button>
                    </div>
                </div>
            </div>
            </div>

            <!-- 展开侧边栏按钮（隐藏时显示） -->
            <button class="sidebar-expand-btn" id="sidebarExpandBtn" style="display: none;" title="展开侧边栏">
                <span class="expand-icon">▶</span>
                <span class="expand-text">词条</span>
            </button>

            <!-- 右侧边栏 -->
            <aside class="right-sidebar" id="rightSidebar">
                <!-- 切换按钮 -->
                <button class="sidebar-toggle" id="sidebarToggle" title="收起侧边栏">
                    <span class="toggle-icon">◀</span>
                </button>
                
                <!-- 词条筛选 -->
                <div class="sidebar-filter">
                    <h3 class="sidebar-title">
                        <span class="title-icon">📝</span>
                        推荐词条
                    </h3>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-type="all">
                            全部 <span class="tab-count" id="allCount">25</span>
                        </button>
                        <button class="filter-tab" data-type="word">
                            单词 <span class="tab-count" id="wordCount">10</span>
                        </button>
                        <button class="filter-tab" data-type="phrase">
                            短语 <span class="tab-count" id="phraseCount">10</span>
                        </button>
                        <button class="filter-tab" data-type="sentence">
                            句子 <span class="tab-count" id="sentenceCount">5</span>
                        </button>
                    </div>
                </div>

                <!-- 词条列表 -->
                <div class="word-items-list" id="wordItemsList">
                    <!-- 动态生成词条列表 -->
                </div>
            </aside>
        </div>
    </div>

    <script src="dictation.js"></script>
</body>
</html>

